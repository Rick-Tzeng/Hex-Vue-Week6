"use strict";(self["webpackChunkhomework"]=self["webpackChunkhomework"]||[]).push([[675],{8124:function(t,e,s){s.d(e,{Z:function(){return b}});var a=s(3396),o=s(7139);const d=t=>((0,a.dD)("data-v-537adf6d"),t=t(),(0,a.Cn)(),t),i={class:"toast position",ref:"toast"},r={class:"toast-header bg-primary text-white"},n=d((()=>(0,a._)("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1))),l={class:"toast-body"},c={class:"text-danger"};function u(t,e,s,d,u,p){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",r,[(0,a._)("strong",null,(0,o.zw)(u.title),1),n]),(0,a._)("div",l,[(0,a._)("strong",c,(0,o.zw)(u.message),1)])],512)}var p=s(8937),h={data(){return{toast:{},title:"",message:""}},methods:{openToast(t,e,s=!0){this.toast.show(),s?(this.title=t.data.data.product.title,this.message=t.data.message):(this.title=e,this.message=t.data.message)}},mounted(){this.toast=new p.FN(this.$refs.toast,{animation:!0,autoHide:!0,delay:3e3})}},m=s(89);const g=(0,m.Z)(h,[["render",u],["__scopeId","data-v-537adf6d"]]);var b=g},1675:function(t,e,s){s.r(e),s.d(e,{default:function(){return T}});var a=s(3396),o=s(7139),d=s(9242);const i={class:"fw-bold"},r={class:"row mb-5 g-5"},n={class:"col-md-6"},l=["src","alt"],c={class:"col-md-6"},u={class:"badge bg-primary rounded-pill"},p={key:0,class:"h4 my-5"},h={key:1,class:"text-end my-5"},m={class:"text-muted"},g=(0,a.Uk)(" 現在只要"),b={class:"h4 text-danger"},w={class:"text-end"},v={for:"numOfQty",class:"form-label mt-3"},_=(0,a.Uk)("購買數量 "),f=["disabled"],y={class:"text-end mt-4"},k=["disabled"];function z(t,e,s,z,I,x){const $=(0,a.up)("Toast");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h1",i,(0,o.zw)(I.product.title),1),(0,a._)("div",r,[(0,a._)("div",n,[(0,a._)("img",{src:I.product.imageUrl,class:"img-fluid img-thumbnail",style:{"object-fit":"cover"},alt:I.product.title},null,8,l)]),(0,a._)("div",c,[(0,a._)("h5",null,[(0,a._)("span",u,(0,o.zw)(I.product.category),1)]),(0,a._)("p",null,"商品描述："+(0,o.zw)(I.product.description),1),(0,a._)("p",null,"商品內容："+(0,o.zw)(I.product.content),1),I.product.price?((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("del",m," 原價 "+(0,o.zw)(I.product.origin_price)+" 元 / "+(0,o.zw)(I.product.unit),1),(0,a._)("div",null,[g,(0,a._)("span",b,(0,o.zw)(I.product.price),1),(0,a.Uk)(" 元 / "+(0,o.zw)(I.product.unit),1)])])):((0,a.wg)(),(0,a.iD)("div",p,(0,o.zw)(I.product.origin_price)+" 元 / "+(0,o.zw)(I.product.unit),1)),(0,a._)("div",w,[(0,a._)("label",v,[_,(0,a.wy)((0,a._)("input",{type:"number",id:"numOfQty",class:"form-control text-center fw-bold",min:"1","onUpdate:modelValue":e[0]||(e[0]=t=>I.qty=t),oninput:"\n            this.value = !!this.value && Math.abs(this.value) >= 1 ? Math.abs(this.value) : 1",disabled:I.product.id===I.selectedItemId},null,8,f),[[d.nr,I.qty,void 0,{number:!0}]])])]),(0,a._)("div",y,[(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:e[1]||(e[1]=t=>x.addToCart(I.product.id,I.qty)),disabled:I.product.id===I.selectedItemId}," 🛒 加入購物車 ",8,k)])])]),(0,a.Wm)($,{ref:"toast"},null,512)],64)}var I=s(8124),x={data(){return{qty:1,product:{},loader:{},selectedItemId:""}},components:{Toast:I.Z},methods:{getProduct(){this.loader=this.$loading.show();const{id:t}=this.$route.params,e=`\n        https://vue3-course-api.hexschool.io/v2/api/rick917jp6-api/product/${t}\n      `;this.$http.get(e).then((t=>{this.product=t.data.product,this.loader.hide()})).catch((t=>{console.dir(t.response.data.message)}))},addToCart(t,e=1){this.loader=this.$loading.show(),this.selectedItemId=t;const s={product_id:t,qty:e},a="\n        https://vue3-course-api.hexschool.io/v2/api/rick917jp6-api/cart\n      ";this.$http.post(a,{data:s}).then((t=>{this.$refs.toast.openToast(t),this.selectedItemId="",this.loader.hide()})).catch((t=>{console.dir(t.response.data.message)}))}},mounted(){this.getProduct()}},$=s(89);const C=(0,$.Z)(x,[["render",z]]);var T=C}}]);
//# sourceMappingURL=675.d0e00287.js.map