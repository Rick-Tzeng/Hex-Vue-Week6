"use strict";(self["webpackChunkhomework"]=self["webpackChunkhomework"]||[]).push([[366],{8124:function(t,s,e){e.d(s,{Z:function(){return g}});var a=e(3396),o=e(7139);const i=t=>((0,a.dD)("data-v-537adf6d"),t=t(),(0,a.Cn)(),t),d={class:"toast position",ref:"toast"},r={class:"toast-header bg-primary text-white"},n=i((()=>(0,a._)("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","data-bs-dismiss":"toast","aria-label":"Close"},null,-1))),l={class:"toast-body"},c={class:"text-danger"};function u(t,s,e,i,u,h){return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",r,[(0,a._)("strong",null,(0,o.zw)(u.title),1),n]),(0,a._)("div",l,[(0,a._)("strong",c,(0,o.zw)(u.message),1)])],512)}var h=e(8937),p={data(){return{toast:{},title:"",message:""}},methods:{openToast(t,s,e=!0){this.toast.show(),e?(this.title=t.data.data.product.title,this.message=t.data.message):(this.title=s,this.message=t.data.message)}},mounted(){this.toast=new h.FN(this.$refs.toast,{animation:!0,autoHide:!0,delay:3e3})}},m=e(89);const w=(0,m.Z)(p,[["render",u],["__scopeId","data-v-537adf6d"]]);var g=w},4366:function(t,s,e){e.r(s),e.d(s,{default:function(){return I}});var a=e(3396),o=e(7139);const i=(0,a._)("h2",{class:"fw-bold mb-5"},"相關產品",-1),d={class:"row row-cols-1 row-cols-md-2 row-cols-xl-4 g-4 mb-5"},r={class:"card h-100"},n={class:"card-header bg-transparent"},l={class:"card-title fw-bold"},c=["src","alt"],u={class:"card-body d-flex flex-column justify-content-between"},h={class:"card-text"},p={key:0,class:"h4"},m={key:1,class:"text-end"},w={class:"text-muted"},g=(0,a.Uk)(" 現在只要 "),b={class:"h4 text-danger"},f={class:"card-footer bg-transparent d-flex justify-content-between"},v=(0,a.Uk)(" 🔎 詳細 "),_=["onClick","disabled"];function k(t,s,e,k,y,x){const z=(0,a.up)("router-link"),C=(0,a.up)("Toast");return(0,a.wg)(),(0,a.iD)(a.HY,null,[i,(0,a._)("div",d,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.products,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"col",key:t.id},[(0,a._)("div",r,[(0,a._)("div",n,[(0,a._)("h5",l,(0,o.zw)(t.title),1)]),(0,a._)("img",{src:t.imageUrl,class:"card-img-top",style:{height:"300px","object-fit":"cover","object-position":"50% 30%"},alt:t.title},null,8,c),(0,a._)("div",u,[(0,a._)("p",h,(0,o.zw)(t.description),1),t.price?((0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("del",w," 原價 "+(0,o.zw)(t.origin_price)+" 元 / "+(0,o.zw)(t.unit),1),(0,a._)("div",null,[g,(0,a._)("span",b,(0,o.zw)(t.price),1),(0,a.Uk)(" 元 / "+(0,o.zw)(t.unit),1)])])):((0,a.wg)(),(0,a.iD)("div",p,(0,o.zw)(t.origin_price)+" 元 / "+(0,o.zw)(t.unit),1))]),(0,a._)("div",f,[(0,a.Wm)(z,{to:`/product/${t.id}`,class:"btn btn-primary"},{default:(0,a.w5)((()=>[v])),_:2},1032,["to"]),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:s=>x.addToCart(t.id),disabled:t.id===y.selectedItemId}," 🛒 加入購物車 ",8,_)])])])))),128))]),(0,a.Wm)(C,{ref:"toast"},null,512)],64)}var y=e(8124),x={data(){return{products:[],loader:{},selectedItemId:""}},components:{Toast:y.Z},methods:{getAllProducts(){this.loader=this.$loading.show();const t="\n        https://vue3-course-api.hexschool.io/v2/api/rick917jp6-api/products/all\n      ";this.$http.get(t).then((t=>{this.products=t.data.products,this.loader.hide()})).catch((t=>{console.dir(t.response.data.message)}))},addToCart(t,s=1){this.loader=this.$loading.show(),this.selectedItemId=t;const e={product_id:t,qty:s},a="\n        https://vue3-course-api.hexschool.io/v2/api/rick917jp6-api/cart\n      ";this.$http.post(a,{data:e}).then((t=>{this.$refs.toast.openToast(t),this.selectedItemId="",this.loader.hide()})).catch((t=>{console.dir(t.response.data.message)})),this.$mitter.emit("addCartNum",t)}},mounted(){this.getAllProducts()}},z=e(89);const C=(0,z.Z)(x,[["render",k]]);var I=C}}]);
//# sourceMappingURL=366.3a0f562f.js.map